<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>ES_enemyAI</name>
    <events>
        <include>DataObjectFunctions</include>
        <include>ES_main</include>
        <comment>not sure if a unified ship loading function will be needed</comment>
        <event-block sid="509019511811365">
            <conditions>
                <condition id="-18" name="On created" sid="750086428531415" type="spr_shipEnemy" />
                <condition id="-4" inverted="1" name="Is outside layout" sid="142447490581275" type="spr_shipEnemy" />
            </conditions>
            <actions>
                <action disabled="1" id="-10" name="Set value" sid="822285392149494" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">type</param>
                    <param id="1" name="Value">int(random(csv_arrShipsList.RowCnt-1))</param>
                </action>
                <action id="-10" name="Set value" sid="630933643757597" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">type</param>
                    <param id="1" name="Value">enemyType</param>
                </action>
                <action id="-10" name="Set value" sid="757423700311435" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">name</param>
                    <param id="1" name="Value">csv_arrShipsList.At(&quot;name&quot;, spr_shipEnemy.type)</param>
                </action>
                <action id="-10" name="Set value" sid="168513688618439" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">class</param>
                    <param id="1" name="Value">csv_arrShipsList.At(&quot;class&quot;, spr_shipEnemy.type)</param>
                </action>
                <action id="5" name="Set frame" sid="963493240871903" type="spr_shipEnemy">
                    <param id="0" name="Frame number">spr_shipEnemy.class</param>
                </action>
                <action id="-10" name="Set value" sid="693789194314112" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">armor_0</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-10" name="Set value" sid="662215997162555" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">armor_1</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="0" name="Call function" sid="257216612037871" type="Function">
                    <param id="0" name="Name">&quot;addLog&quot;</param>
                    <param id="1" name="Parameter {n}">spr_shipEnemy.type&amp;&quot; created&quot;</param>
                </action>
                <action id="-8" name="Set angle" sid="927559986278788" type="spr_shipEnemy">
                    <param id="0" name="Angle">random(360)</param>
                </action>
                <action id="-10" name="Set value" sid="440091711172089" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">state</param>
                    <param id="1" name="Value">&quot;patrolling&quot;</param>
                </action>
                <action id="0" name="Call function" sid="238939477255115" type="Function">
                    <param id="0" name="Name">&quot;addLog&quot;</param>
                    <param id="1" name="Parameter {n}">&quot;patrolling&quot;</param>
                </action>
                <action behavior="Bullet" id="5" name="Set enabled" sid="327051038209227" type="spr_shipEnemy">
                    <param id="0" name="State">1</param>
                </action>
                <action id="5" name="Push" sid="402259860995187" type="arr_TargetList">
                    <param id="0" name="Where">0</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                    <param id="2" name="Axis">0</param>
                </action>
                <action id="-16" name="Wait" sid="982679726244508" type="System">
                    <param id="0" name="Seconds">0.5</param>
                </action>
                <action id="-10" name="Set value" sid="973176711987363" type="arr_enemyWPN_0">
                    <param id="0" name="Instance variable">enemyUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="247437488401645" type="arr_enemyWPN_1">
                    <param id="0" name="Instance variable">enemyUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="470420743645981" type="arr_enemyWPN_2">
                    <param id="0" name="Instance variable">enemyUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="974483569624419" type="arr_enemyWPN_3">
                    <param id="0" name="Instance variable">enemyUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="683578449486927" type="arr_enemyWPN_4">
                    <param id="0" name="Instance variable">enemyUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="595417337331151" type="spr_armMarkE0">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="332155458243424" type="spr_armMarkE1">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="341129521613267" type="spr_armMarkE2">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="799291736432024" type="spr_armMarkE3">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="574432649389279" type="spr_armMarkE4">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="935851141575756" type="spr_shldMarkE1">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="223827582944881" type="spr_shldMarkE2">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="560883034679123" type="spr_shldMarkE3">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
                <action id="-10" name="Set value" sid="755725442168339" type="spr_shldMarkE4">
                    <param id="0" name="Instance variable">containerUID</param>
                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                </action>
            </actions>
            <sub-events>
                <variable constant="0" name="indexOfShip" sid="570210858270548" static="0" type="number">0</variable>
                <event-block sid="701178943824223">
                    <conditions>
                        <condition id="-10" name="For" sid="445893404774052" type="System">
                            <param id="0" name="Name">&quot;copyloop&quot;</param>
                            <param id="1" name="Start index">0</param>
                            <param id="2" name="End index">csv_arrShipsList.ColCnt-1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="3" name="Set at XY" sid="346737842786728" type="arr_InvEnemy">
                            <param id="0" name="X">0</param>
                            <param id="1" name="Y">loopindex</param>
                            <param id="2" name="Value">csv_arrShipsList.At(loopindex, spr_shipEnemy.type)</param>
                        </action>
                    </actions>
                </event-block>
                <comment>set shields and weapons for enemy</comment>
                <event-block sid="805584745910924">
                    <conditions>
                        <condition id="-10" name="For" sid="437496922738962" type="System">
                            <param id="0" name="Name">&quot;loopTotal&quot;</param>
                            <param id="1" name="Start index">0</param>
                            <param id="2" name="End index">4</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="862363572417934" type="Function">
                            <param id="0" name="Name">&quot;loadEnemyInv&quot;</param>
                            <param id="1" name="Parameter {n}">loopindex{###}spr_shipEnemy.UID</param>
                        </action>
                    </actions>
                </event-block>
                <comment>does this need an arr_enemyEngine</comment>
                <comment>setup array InvEnemy for what is an equipment and what is a weapon, including it&apos;s ID number</comment>
                <event-block sid="932272983591152">
                    <conditions>
                        <condition id="3" name="For each element" sid="967003438134034" type="arr_InvEnemy">
                            <param id="0" name="Axes">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="894060029006401">
                            <conditions>
                                <condition id="3" name="For each element" sid="900435569708128" type="arr_All_Items">
                                    <param id="0" name="Axes">2</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="138511001143796">
                                    <conditions>
                                        <condition id="4" name="Compare current value" sid="269444301061297" type="arr_InvEnemy">
                                            <param id="0" name="Comparison">0</param>
                                            <param id="1" name="Value">arr_All_Items.CurValue</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set at XYZ" sid="417634945631042" type="arr_InvEnemy">
                                            <param id="0" name="X">0</param>
                                            <param id="1" name="Y">arr_InvEnemy.CurY</param>
                                            <param id="2" name="Z">1</param>
                                            <param id="3" name="Value">arr_All_Items.At(arr_All_Items.curx,1)</param>
                                        </action>
                                        <action id="4" name="Set at XYZ" sid="437710855300792" type="arr_InvEnemy">
                                            <param id="0" name="X">0</param>
                                            <param id="1" name="Y">arr_InvEnemy.CurY</param>
                                            <param id="2" name="Z">2</param>
                                            <param id="3" name="Value">arr_All_Items.At(arr_All_Items.curx,2)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="454002183777694">
                    <conditions />
                    <actions>
                        <action id="-10" name="Set value" sid="560948879833647" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">engineType</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;Engine&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="166375313317516" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">acceleration</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;acceleration&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="251554724106791" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">maxSpeed</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;maxSpeed&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action behavior="Bullet" id="0" name="Set speed" sid="561096914308784" type="spr_shipEnemy">
                            <param id="0" name="Speed">0</param>
                        </action>
                        <action behavior="Bullet" id="1" name="Set acceleration" sid="174276520924964" type="spr_shipEnemy">
                            <param id="0" name="Acceleration">spr_shipEnemy.acceleration</param>
                        </action>
                        <action id="-10" name="Set value" sid="338424114242412" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">powerReGen</param>
                            <param id="1" name="Value">csv_arrEngines.At(&quot;recharge&quot;, spr_shipEnemy.engineType)</param>
                        </action>
                        <action id="-10" name="Set value" sid="252199845205087" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">rotateSpeed</param>
                            <param id="1" name="Value">csv_arrShipClass.At(&quot;rotateSpeed&quot;, spr_shipEnemy.class)</param>
                        </action>
                        <action id="-10" name="Set value" sid="800408085656223" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">rangeSensor</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;Range&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="318304234374900" type="spr_armMarkE0">
                            <param id="0" name="Instance variable">currStrength</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor0&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="263160309676882" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">armor_0</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor0&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="697696194820321" type="spr_armMarkE1">
                            <param id="0" name="Instance variable">currStrength</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor1&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="305041269694521" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">armor_1</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor1&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="671809379967674" type="spr_armMarkE2">
                            <param id="0" name="Instance variable">currStrength</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor2&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="260208594293300" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">armor_2</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor2&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="197409849625721" type="spr_armMarkE3">
                            <param id="0" name="Instance variable">currStrength</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor3&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="130495111103408" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">armor_3</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor3&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="633272130185189" type="spr_armMarkE4">
                            <param id="0" name="Instance variable">currStrength</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor4&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="820071343796152" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">armor_4</param>
                            <param id="1" name="Value">csv_arrShipsList.At(&quot;armor4&quot;, spr_shipEnemy.type)</param>
                        </action>
                        <action id="-10" name="Set value" sid="687718704172325" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">power</param>
                            <param id="1" name="Value">csv_arrEngines.At(&quot;power&quot;, spr_shipEnemy.engineType)</param>
                        </action>
                        <action id="-10" name="Set value" sid="929863162953647" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">powerMax</param>
                            <param id="1" name="Value">csv_arrEngines.At(&quot;power&quot;, spr_shipEnemy.engineType)</param>
                        </action>
                        <action id="-10" name="Set value" sid="418571884453864" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">powerReGen</param>
                            <param id="1" name="Value">csv_arrEngines.At(&quot;recharge&quot;, spr_shipEnemy.engineType)</param>
                        </action>
                        <action id="-10" name="Set value" sid="507556929288573" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">Gunnery</param>
                            <param id="1" name="Value">40</param>
                        </action>
                        <action id="-10" name="Set value" sid="176914587028541" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">Piloting</param>
                            <param id="1" name="Value">50</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="169146681613582" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">isInvulnerable</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="0" name="Call function" sid="191724939278227" type="Function">
                            <param id="0" name="Name">&quot;onUpdateEnemyList&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="579576069768966">
            <conditions>
                <condition id="-19" name="On destroyed" sid="169447623690510" type="spr_shipEnemy" />
            </conditions>
            <actions>
                <action id="0" name="Call function" sid="999493532223412" type="Function">
                    <param id="0" name="Name">&quot;addLog&quot;</param>
                    <param id="1" name="Parameter {n}">&quot;Enemy &quot;&amp;spr_shipEnemy.UID&amp;&quot; destroyed&quot;</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="588210965984350">
                    <conditions>
                        <condition id="-8" name="Is boolean instance variable set" sid="984283537529963" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">targeted</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="515866200879967" type="spr_target" />
                        <action id="-10" name="Set value" sid="120231239895002" type="fml_enemyShldHUD">
                            <param id="0" name="Instance variable">currStrength</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="487313327895373" type="fml_HUDshpEnemy">
                            <param id="0" name="Instance variable">currStrength</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="980206872034062" type="fml_enemyHUDItems">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="690638609070380" type="txt_enemyWPNS">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="244922868045537" type="txt_enemyTypeHUD">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-10" name="Set value" sid="446670152061454" type="spr_shipPC">
                            <param id="0" name="Instance variable">targetUID</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="158544814532721">
                    <conditions>
                        <condition id="3" name="For each element" sid="637452985040305" type="arr_TargetList">
                            <param id="0" name="Axes">2</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="666615114951235">
                            <conditions>
                                <condition id="4" name="Compare current value" sid="429123719219056" type="arr_TargetList">
                                    <param id="0" name="Comparison">0</param>
                                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="9" name="Delete" sid="836652303697336" type="arr_TargetList">
                                    <param id="0" name="Index">arr_TargetList.CurX</param>
                                    <param id="1" name="Axis">0</param>
                                </action>
                                <action id="0" name="Call function" sid="200494615599309" type="Function">
                                    <param id="0" name="Name">&quot;onUpdateEnemyList&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="-24" name="Stop loop" sid="102869864536800" type="System" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="916293607078551">
                    <conditions>
                        <condition id="-33" name="Pick by comparison" sid="565375981467287" type="System">
                            <param id="0" name="Object">spr_wptEnemy</param>
                            <param id="1" name="Expression">spr_wptEnemy.enemyID</param>
                            <param id="2" name="Comparison">0</param>
                            <param id="3" name="Value">spr_shipEnemy.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="971819864476124" type="spr_wptEnemy" />
                    </actions>
                </event-block>
                <event-block sid="727531940451336">
                    <conditions>
                        <condition id="-12" name="Repeat" sid="127544713384879" type="System">
                            <param id="0" name="Count">int(random(5,10))</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="186989866510500" type="spr_shipEnemy">
                            <param id="0" name="Object">spr_explosion3</param>
                            <param id="1" name="Layer">&quot;Light&quot;</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="9" name="Set scale" sid="559220623076013" type="spr_explosion3">
                            <param id="0" name="Scale">random(0.5,2)</param>
                        </action>
                        <action id="-8" name="Set angle" sid="431231745143488" type="spr_explosion3">
                            <param id="0" name="Angle">random(360)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="830911775380816" title="Group_tickEnemyActions">
            <sub-events>
                <event-block sid="876044150123606">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="331755889156828" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="960356555242067">
                            <conditions>
                                <condition id="-11" name="For Each" sid="949251644858975" type="System">
                                    <param id="0" name="Object">spr_wptEnemy</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="189087101886786">
                                    <conditions>
                                        <condition id="-4" inverted="1" name="Is outside layout" sid="569021085854208" type="spr_wptEnemy" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="571434201302129">
                                            <conditions>
                                                <condition id="-33" name="Pick by comparison" sid="248080301227039" type="System">
                                                    <param id="0" name="Object">spr_shipEnemy</param>
                                                    <param id="1" name="Expression">spr_shipEnemy.UID</param>
                                                    <param id="2" name="Comparison">0</param>
                                                    <param id="3" name="Value">spr_wptEnemy.enemyID</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="234910101486716">
                                                    <conditions>
                                                        <condition id="-8" name="Is boolean instance variable set" sid="381619822079403" type="spr_shipEnemy">
                                                            <param id="0" name="Instance variable">isMoving</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-21" name="Rotate toward position" sid="224717481279028" type="spr_shipEnemy">
                                                            <param id="0" name="Degrees">spr_shipEnemy.rotateSpeed</param>
                                                            <param id="1" name="X">spr_wptEnemy.x</param>
                                                            <param id="2" name="Y">spr_wptEnemy.y</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="458059244660978">
                            <conditions>
                                <condition behavior="Bullet" id="0" name="Compare speed" sid="550006306136271" type="spr_shipEnemy">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Speed">spr_shipEnemy.maxSpeed</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Bullet" id="1" name="Set acceleration" sid="667662425556935" type="spr_shipEnemy">
                                    <param id="0" name="Acceleration">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block any="1" sid="533027168863700">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="136355001342316" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">armor_0</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="730073018026389" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">armor_1</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="328948792797522">
                                    <conditions>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="833799924649824" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">isInvulnerable</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="529042954056900" type="spr_shipEnemy" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="270963673586523">
                            <conditions>
                                <condition id="-11" name="For Each" sid="168045172566189" type="System">
                                    <param id="0" name="Object">spr_shipEnemy</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="224069832918425" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">rangeToTarget</param>
                                    <param id="1" name="Value">distance(spr_shipEnemy.X, spr_shipEnemy.Y,spr_shipPC.X,spr_shipPC.Y)</param>
                                </action>
                                <action id="-10" name="Set value" sid="938753526061749" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">Shield_1</param>
                                    <param id="1" name="Value">spr_shldMarkE1.currStrength</param>
                                </action>
                                <action id="-10" name="Set value" sid="231650694410280" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">Shield_2</param>
                                    <param id="1" name="Value">spr_shldMarkE2.currStrength</param>
                                </action>
                                <action id="-10" name="Set value" sid="323738914832867" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">Shield_3</param>
                                    <param id="1" name="Value">spr_shldMarkE3.currStrength</param>
                                </action>
                                <action id="-10" name="Set value" sid="747719772716418" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">Shield_4</param>
                                    <param id="1" name="Value">spr_shldMarkE4.currStrength</param>
                                </action>
                                <action id="-10" name="Set value" sid="121502831417142" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">armor_0</param>
                                    <param id="1" name="Value">spr_armMarkE0.currStrength</param>
                                </action>
                                <action id="-10" name="Set value" sid="251891043226393" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">armor_1</param>
                                    <param id="1" name="Value">spr_armMarkE1.currStrength</param>
                                </action>
                                <action id="-10" name="Set value" sid="220574311381619" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">armor_2</param>
                                    <param id="1" name="Value">spr_armMarkE2.currStrength</param>
                                </action>
                                <action id="-10" name="Set value" sid="400644271371789" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">armor_3</param>
                                    <param id="1" name="Value">spr_armMarkE3.currStrength</param>
                                </action>
                                <action id="-10" name="Set value" sid="622344312910485" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">armor_4</param>
                                    <param id="1" name="Value">spr_armMarkE4.currStrength</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="438294814162664">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="159730262279483" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">power</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">spr_shipEnemy.powerMax</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="630313208044187" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">power</param>
                                            <param id="1" name="Value">spr_shipEnemy.powerMax</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="950508324590539">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="596369097695111" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-11" name="Add to" sid="421022206638313" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">power</param>
                                            <param id="1" name="Value">spr_shipEnemy.powerReGen*(dt*0.5)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="897116010046796">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="710441331382787" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">power</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="905535773295485" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">power</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="407961082537866">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="150753917630415" type="fml_enemyMRKShld">
                                            <param id="0" name="Instance variable">currStrength</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="400993864059213" type="fml_enemyMRKShld">
                                            <param id="0" name="Instance variable">currStrength</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>if shields are charging</comment>
                                <event-block sid="130765939343170">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="698059890991401" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">S1_charging</param>
                                        </condition>
                                        <condition id="-8" name="Is boolean instance variable set" sid="182166151019122" type="spr_shldMarkE1">
                                            <param id="0" name="Instance variable">isEnabled</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="647551459639239">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="130224610115041" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_1</param>
                                                    <param id="1" name="Comparison">2</param>
                                                    <param id="2" name="Value">spr_shipEnemy.Shield_1_o</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="163992851667110" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">power</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-11" name="Add to" sid="954424220889359" type="spr_shldMarkE1">
                                                    <param id="0" name="Instance variable">currStrength</param>
                                                    <param id="1" name="Value">dt*5</param>
                                                </action>
                                                <action id="-12" name="Subtract from" sid="686231086705135" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">power</param>
                                                    <param id="1" name="Value">dt*5</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="697610242257114">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="676638988824099" type="System" />
                                                <condition id="-7" name="Compare instance variable" sid="678418396569998" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_1</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">spr_shipEnemy.Shield_1_o</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="650802313544700" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">S1_charging</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="236841928579043">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="108721562434293" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">S2_charging</param>
                                        </condition>
                                        <condition id="-8" name="Is boolean instance variable set" sid="918331911837369" type="spr_shldMarkE2">
                                            <param id="0" name="Instance variable">isEnabled</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="371076330841203">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="588754191168964" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_2</param>
                                                    <param id="1" name="Comparison">2</param>
                                                    <param id="2" name="Value">spr_shipEnemy.Shield_2_o</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="486686429333316" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">power</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Value">5</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-11" name="Add to" sid="717827325982358" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_2</param>
                                                    <param id="1" name="Value">dt*5</param>
                                                </action>
                                                <action id="-12" name="Subtract from" sid="927930692818419" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">power</param>
                                                    <param id="1" name="Value">dt*5</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="279340170509188">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="599220214862058" type="System" />
                                                <condition id="-7" name="Compare instance variable" sid="138281315223260" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_2</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">spr_shipEnemy.Shield_2_o</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="830177732837049" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">S2_charging</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="911216362948685">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="263948889679086" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">S3_charging</param>
                                        </condition>
                                        <condition id="-8" name="Is boolean instance variable set" sid="412392512809310" type="spr_shldMarkE3">
                                            <param id="0" name="Instance variable">isEnabled</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="421525795571481">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="663049295903355" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">power</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Value">5</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="501132863979259" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_3</param>
                                                    <param id="1" name="Comparison">2</param>
                                                    <param id="2" name="Value">spr_shipEnemy.Shield_3_o</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-11" name="Add to" sid="357748049925836" type="spr_shldMarkE3">
                                                    <param id="0" name="Instance variable">currStrength</param>
                                                    <param id="1" name="Value">dt*5</param>
                                                </action>
                                                <action id="-12" name="Subtract from" sid="557356034956169" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">power</param>
                                                    <param id="1" name="Value">dt*5</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="130586383180240">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="365150439103466" type="System" />
                                                <condition id="-7" name="Compare instance variable" sid="502894101891145" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_3</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">spr_shipEnemy.Shield_3_o</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="862021643763065" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">S3_charging</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="757602144256680">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="907444231701586" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">S4_charging</param>
                                        </condition>
                                        <condition id="-8" name="Is boolean instance variable set" sid="503111252454966" type="spr_shldMarkE4">
                                            <param id="0" name="Instance variable">isEnabled</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="854023336752460">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="711689374313504" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">power</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Value">5</param>
                                                </condition>
                                                <condition id="-7" name="Compare instance variable" sid="210880473858171" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_4</param>
                                                    <param id="1" name="Comparison">2</param>
                                                    <param id="2" name="Value">spr_shipEnemy.Shield_4_o</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-11" name="Add to" sid="937736740438545" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_4</param>
                                                    <param id="1" name="Value">dt*5</param>
                                                </action>
                                                <action id="-12" name="Subtract from" sid="823199843573288" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">power</param>
                                                    <param id="1" name="Value">dt*5</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="181106603608542">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="349515022028393" type="System" />
                                                <condition id="-7" name="Compare instance variable" sid="910933678025105" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">Shield_4</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Value">spr_shipEnemy.Shield_4_o</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="246133482129365" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">S4_charging</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <comment>AI state settings, sensor range</comment>
        <event-block sid="605710513238196">
            <conditions>
                <condition id="-11" name="For Each" sid="636055870431947" type="System">
                    <param id="0" name="Object">spr_shipEnemy</param>
                </condition>
                <condition id="-4" inverted="1" name="Is outside layout" sid="919726648825127" type="spr_shipEnemy" />
            </conditions>
            <actions />
            <sub-events>
                <comment>enemy will detect PC at less than rangeSensor</comment>
                <event-block sid="911796187957784">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="971030049163265" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">rangeSensor</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">spr_shipEnemy.rangeToTarget</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="443100024137612">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="630523334108541" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">state</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">&quot;attacking&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="482545964694752">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="731156486964296" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="715222238896036" type="Function">
                                            <param id="0" name="Name">&quot;addLog&quot;</param>
                                            <param id="1" name="Parameter {n}">&quot;PC found by enemy &quot;&amp;spr_shipEnemy.UID</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="790538318144106">
                                            <conditions>
                                                <condition id="-33" name="Pick by comparison" sid="606082408178988" type="System">
                                                    <param id="0" name="Object">spr_wptEnemy</param>
                                                    <param id="1" name="Expression">spr_wptEnemy.enemyID</param>
                                                    <param id="2" name="Comparison">0</param>
                                                    <param id="3" name="Value">spr_shipEnemy.UID</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Destroy" sid="473764777500693" type="spr_wptEnemy" />
                                                <action id="-10" name="Set value" sid="995306557325310" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">state</param>
                                                    <param id="1" name="Value">&quot;attacking&quot;</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="224042446782603" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">isMoving</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="414612374371221">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="354231744636487" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">state</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;patrolling&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="990276448295978">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="251934592729294" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">isMoving</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="722662853085808">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="524001015350426" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="469914957643004">
                                            <conditions>
                                                <condition id="-33" name="Pick by comparison" sid="253918263219078" type="System">
                                                    <param id="0" name="Object">spr_wptEnemy</param>
                                                    <param id="1" name="Expression">spr_wptEnemy.enemyID</param>
                                                    <param id="2" name="Comparison">0</param>
                                                    <param id="3" name="Value">spr_shipEnemy.UID</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Destroy" sid="742726756146386" type="spr_wptEnemy" />
                                            </actions>
                                        </event-block>
                                        <event-block sid="493522631226549">
                                            <conditions />
                                            <actions>
                                                <action id="-3" name="Create object" sid="862479172276305" type="System">
                                                    <param id="0" name="Object to create">spr_wptEnemy</param>
                                                    <param id="1" name="Layer">&quot;Main&quot;</param>
                                                    <param id="2" name="X">random(LBorder+10, LayoutWidth-30)</param>
                                                    <param id="3" name="Y">random(30, LayoutHeight-30)</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="233550323236569" type="spr_wptEnemy">
                                                    <param id="0" name="Instance variable">enemyID</param>
                                                    <param id="1" name="Value">spr_shipEnemy.UID</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="684257551871432" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">isMoving</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="185223986156871">
                    <conditions>
                        <condition id="-22" name="Else" sid="106514016340561" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="442316843813392" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">state</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;attacking&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="indexOfItem" sid="705971496480008" static="0" type="number">999</variable>
                        <event-block sid="232921493493592">
                            <conditions>
                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="780735725719572" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">isMoving</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="109466416403198">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="104836324264129" type="spr_shipPC">
                                            <param id="0" name="Instance variable">Shield1</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">min(spr_shipPC.Shield1,spr_shipPC.Shield2,spr_shipPC.Shield3,spr_shipPC.Shield4)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="430342661178497" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">firingSpot</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="674682399818718">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="137671211752497" type="System" />
                                        <condition id="-7" name="Compare instance variable" sid="405189725076725" type="spr_shipPC">
                                            <param id="0" name="Instance variable">Shield2</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">min(spr_shipPC.Shield1,spr_shipPC.Shield2,spr_shipPC.Shield3,spr_shipPC.Shield4)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="515221360637523" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">firingSpot</param>
                                            <param id="1" name="Value">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="680733589830201">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="856139124422538" type="System" />
                                        <condition id="-7" name="Compare instance variable" sid="693714077766413" type="spr_shipPC">
                                            <param id="0" name="Instance variable">Shield3</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">min(spr_shipPC.Shield1,spr_shipPC.Shield2,spr_shipPC.Shield3,spr_shipPC.Shield4)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="313451733986941" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">firingSpot</param>
                                            <param id="1" name="Value">3</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="517808472077978">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="174390497410631" type="System" />
                                        <condition id="-7" name="Compare instance variable" sid="480645473779239" type="spr_shipPC">
                                            <param id="0" name="Instance variable">Shield4</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">min(spr_shipPC.Shield1,spr_shipPC.Shield2,spr_shipPC.Shield3,spr_shipPC.Shield4)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="325351847889984" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">firingSpot</param>
                                            <param id="1" name="Value">4</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="584676467381624">
                                    <conditions />
                                    <actions>
                                        <action id="-3" name="Create object" sid="796214238887935" type="System">
                                            <param id="0" name="Object to create">spr_wptEnemy</param>
                                            <param id="1" name="Layer">&quot;Main&quot;</param>
                                            <param id="2" name="X">spr_shipPC.X+random(100,200)*cos(spr_shipPC.angle+(spr_shipEnemy.firingSpot*90-90))</param>
                                            <param id="3" name="Y">spr_shipPC.Y+random(100,200)*sin(spr_shipPC.Angle+(spr_shipEnemy.firingSpot*90-90))</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="194748830012865" type="spr_wptEnemy">
                                            <param id="0" name="Instance variable">enemyID</param>
                                            <param id="1" name="Value">spr_shipEnemy.UID</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="560583925299668" type="spr_shipEnemy">
                                            <param id="0" name="Instance variable">isMoving</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action behavior="Timer2" id="0" name="Start timer" sid="605398439615201" type="spr_shipEnemy">
                                            <param id="0" name="Duration">2.0</param>
                                            <param id="1" name="Type">0</param>
                                            <param id="2" name="Tag">&quot;attackRun&quot;</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="863738920179706" type="System">
                                            <param id="0" name="Seconds">random(1,2)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>code for HULL weapons</comment>
                        <event-block sid="361369564563174">
                            <conditions>
                                <condition id="3" name="For each element" sid="771802995802563" type="arr_enemyWPN_0">
                                    <param id="0" name="Axes">2</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="860547460035271">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="432530773211883" type="System">
                                            <param id="0" name="First value">int(left(arr_EnemyWPN_0.CurValue,1))</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">1</param>
                                        </condition>
                                        <condition id="2" name="Compare at XYZ" sid="588776187463096" type="arr_enemyWPN_0">
                                            <param id="0" name="X">arr_enemyWPN_0.CurX</param>
                                            <param id="1" name="Y">0</param>
                                            <param id="2" name="Z">1</param>
                                            <param id="3" name="Comparison">0</param>
                                            <param id="4" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action disabled="1" id="14" name="Log" sid="414965451799504" type="Browser">
                                            <param id="0" name="Type">0</param>
                                            <param id="1" name="Message">&quot;sending index: &quot;&amp;fml_arrEnemyWPN.CurX</param>
                                        </action>
                                        <action disabled="1" id="14" name="Log" sid="431807309638769" type="Browser">
                                            <param id="0" name="Type">0</param>
                                            <param id="1" name="Message">&quot;sending index value: &quot;&amp;fml_arrEnemyWPN.CurValue</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="394437507283739" type="System">
                                            <param id="0" name="Variable">indexOfItem</param>
                                            <param id="1" name="Value">Function.Call(&quot;getIndex&quot;,arr_EnemyWPN_0.CurValue, 2)</param>
                                        </action>
                                        <action disabled="1" id="14" name="Log" sid="359221483198912" type="Browser">
                                            <param id="0" name="Type">0</param>
                                            <param id="1" name="Message">&quot;Hull indexofitem set to &quot;&amp;indexOfItem</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="481577716948792">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="854521886494234" type="System">
                                                    <param id="0" name="First value">spr_shipEnemy.power</param>
                                                    <param id="1" name="Comparison">5</param>
                                                    <param id="2" name="Second value">csv_arrWeapons.At(&quot;power&quot;, indexOfItem)</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <comment>weapon in cooldown? -- **double check this</comment>
                                                <event-block bookmark="1" sid="189491390124804">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="367691319162755" type="System">
                                                            <param id="0" name="First value">spr_shipEnemy.Timer2.Duration(&quot;0_&quot;&amp;fml_arrEnemyWPN.CurX&amp;&quot;_&quot;&amp;fml_arrEnemyWPN.CurValue&amp;&quot;weaponCooldown&quot;)</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <comment>weapon has range to PCShip?</comment>
                                                        <event-block sid="808329874691875">
                                                            <conditions>
                                                                <condition id="-7" name="Compare instance variable" sid="680802292844981" type="spr_shipEnemy">
                                                                    <param id="0" name="Instance variable">rangeToTarget</param>
                                                                    <param id="1" name="Comparison">3</param>
                                                                    <param id="2" name="Value">csv_arrWeapons.At(&quot;range&quot;, indexOfItem)</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="14" name="Log" sid="144234655488629" type="Browser">
                                                                    <param id="0" name="Type">0</param>
                                                                    <param id="1" name="Message">&quot;enemy firing &quot;&amp;csv_arrWeapons.At(&quot;name&quot;, indexOfItem)</param>
                                                                </action>
                                                                <action id="0" name="Spawn another object" sid="569035009396454" type="spr_shipEnemy">
                                                                    <param id="0" name="Object">spr_weapon</param>
                                                                    <param id="1" name="Layer">&quot;Main&quot;</param>
                                                                    <param id="2" name="Image point">0</param>
                                                                </action>
                                                                <action behavior="Pin" id="0" name="Pin to object" sid="399372210925768" type="spr_weapon">
                                                                    <param id="0" name="Pin to">spr_shipEnemy</param>
                                                                    <param id="1" name="Mode">1</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="870978727424614" type="spr_weapon">
                                                                    <param id="0" name="Instance variable">ID_name</param>
                                                                    <param id="1" name="Value">csv_arrWeapons.At(&quot;name&quot;, indexOfItem)</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="208133674978181" type="spr_weapon">
                                                                    <param id="0" name="Instance variable">ID_num</param>
                                                                    <param id="1" name="Value">arr_EnemyWPN_0.CurValue</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="689639545761296" type="spr_weapon">
                                                                    <param id="0" name="Instance variable">damage</param>
                                                                    <param id="1" name="Value">csv_arrWeapons.At(&quot;damage&quot;, indexOfItem)</param>
                                                                </action>
                                                                <action id="4" name="Set animation" sid="514946604728788" type="spr_weapon">
                                                                    <param id="0" name="Animation">&quot;ID_&quot;&amp;spr_weapon.ID_num</param>
                                                                    <param id="1" name="From">0</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="500149715796314" type="spr_weapon">
                                                                    <param id="0" name="Instance variable">target</param>
                                                                    <param id="1" name="Value">0</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="791694489754225" type="spr_weapon">
                                                                    <param id="0" name="Instance variable">targetUID</param>
                                                                    <param id="1" name="Value">spr_shipPC.UID</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="737712370694971" type="spr_weapon">
                                                                    <param id="0" name="Instance variable">targetSection</param>
                                                                    <param id="1" name="Value">spr_shipEnemy.targetAspect</param>
                                                                </action>
                                                                <action id="-22" name="Set angle toward position" sid="795468916671191" type="spr_weapon">
                                                                    <param id="0" name="X">spr_shipPC.X</param>
                                                                    <param id="1" name="Y">spr_shipPC.Y</param>
                                                                </action>
                                                                <action id="-12" name="Subtract from" sid="475721871723153" type="spr_shipEnemy">
                                                                    <param id="0" name="Instance variable">power</param>
                                                                    <param id="1" name="Value">int(csv_arrWeapons.At(&quot;power&quot;, indexOfItem))</param>
                                                                </action>
                                                                <action behavior="Timer2" id="0" name="Start timer" sid="657598190698117" type="spr_shipEnemy">
                                                                    <param id="0" name="Duration">float(csv_arrWeapons.At(&quot;cooldown&quot;, indexOfItem))</param>
                                                                    <param id="1" name="Type">0</param>
                                                                    <param id="2" name="Tag">&quot;0_&quot;&amp;arr_EnemyWPN_0.CurX&amp;&quot;_&quot;&amp;arr_EnemyWPN_0.CurValue&amp;&quot;weaponCooldown&quot;</param>
                                                                </action>
                                                            </actions>
                                                            <sub-events>
                                                                <event-block disabled="1" sid="756022097286463">
                                                                    <conditions>
                                                                        <condition id="-8" name="Compare two values" sid="978879864166477" type="System">
                                                                            <param id="0" name="First value">Function.Call(&quot;onCalcHit&quot;,0,spr_shipEnemy.rangeToTarget/arr_items_Weapons.At(fml_arrEnemyWPN.CurValue,3),spr_shipEnemy.UID)</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Second value">0</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-13" name="Set boolean" sid="312127409277350" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">hit</param>
                                                                            <param id="1" name="Value">0</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block disabled="1" sid="881433774034351">
                                                                    <conditions>
                                                                        <condition id="-22" name="Else" sid="387433102435429" type="System" />
                                                                        <condition id="-8" name="Compare two values" sid="277697127596924" type="System">
                                                                            <param id="0" name="First value">Function.Call(&quot;onCalcHit&quot;,0,spr_shipEnemy.rangeToTarget/int(csv_arrWeapons.At(&quot;range&quot;, indexOfItem)),spr_shipEnemy.UID)</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Second value">1</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-13" name="Set boolean" sid="119715947430650" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">hit</param>
                                                                            <param id="1" name="Value">1</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="847238776855727">
                                                                    <conditions>
                                                                        <condition id="-8" name="Compare two values" sid="589030595432842" type="System">
                                                                            <param id="0" name="First value">random(100)</param>
                                                                            <param id="1" name="Comparison">2</param>
                                                                            <param id="2" name="Second value">50</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-13" name="Set boolean" sid="612620700239716" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">hit</param>
                                                                            <param id="1" name="Value">0</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="866229921339283">
                                                                    <conditions>
                                                                        <condition id="-22" name="Else" sid="670211737024642" type="System" />
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-13" name="Set boolean" sid="162400788535690" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">hit</param>
                                                                            <param id="1" name="Value">1</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>Other weapons on Ship Sections, which weapons will fire...based on bearing of PC ship</comment>
                        <event-block sid="102499028973231">
                            <conditions>
                                <condition id="-33" name="Pick by comparison" sid="704828102488949" type="System">
                                    <param id="0" name="Object">fml_arrEnemyWPN</param>
                                    <param id="1" name="Expression">fml_arrEnemyWPN.place</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">spr_shipEnemy.targetBearing</param>
                                </condition>
                                <condition id="-33" name="Pick by comparison" sid="281383881569420" type="System">
                                    <param id="0" name="Object">fml_arrEnemyWPN</param>
                                    <param id="1" name="Expression">fml_arrEnemyWPN.enemyUID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">spr_shipEnemy.UID</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="996786893585067">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="982833133534635" type="fml_arrEnemyWPN">
                                            <param id="0" name="Axes">2</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment>weapon is healthy? - 0 healthy, 1 damaged, 2 destroyed</comment>
                                        <event-block sid="171860042537752">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="275639458527112" type="System">
                                                    <param id="0" name="First value">int(left(fml_arrEnemyWPN.CurValue,1))</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                                <condition id="2" name="Compare at XYZ" sid="860535078307811" type="fml_arrEnemyWPN">
                                                    <param id="0" name="X">fml_arrEnemyWPN.CurX</param>
                                                    <param id="1" name="Y">0</param>
                                                    <param id="2" name="Z">1</param>
                                                    <param id="3" name="Comparison">0</param>
                                                    <param id="4" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action disabled="1" id="14" name="Log" sid="859873746240616" type="Browser">
                                                    <param id="0" name="Type">0</param>
                                                    <param id="1" name="Message">&quot;sending index: &quot;&amp;fml_arrEnemyWPN.CurX</param>
                                                </action>
                                                <action disabled="1" id="14" name="Log" sid="301011088182255" type="Browser">
                                                    <param id="0" name="Type">0</param>
                                                    <param id="1" name="Message">&quot;sending index value: &quot;&amp;fml_arrEnemyWPN.CurValue</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="590280575251741" type="System">
                                                    <param id="0" name="Variable">indexOfItem</param>
                                                    <param id="1" name="Value">Function.Call(&quot;getIndex&quot;,fml_arrEnemyWPN.CurValue,2)</param>
                                                </action>
                                                <action disabled="1" id="14" name="Log" sid="592074638049109" type="Browser">
                                                    <param id="0" name="Type">0</param>
                                                    <param id="1" name="Message">&quot;weapon index of enemy &quot;&amp;spr_shipEnemy.UID&amp;&quot; set at &quot;&amp;indexOfItem </param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <comment>enough power to fire weapon?</comment>
                                                <event-block sid="363398959923867">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="475527227088110" type="System">
                                                            <param id="0" name="First value">spr_shipEnemy.power</param>
                                                            <param id="1" name="Comparison">5</param>
                                                            <param id="2" name="Second value">csv_arrWeapons.At(&quot;power&quot;, indexOfItem)</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <comment>weapon in cooldown?</comment>
                                                        <event-block sid="544834360998159">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="669497863440160" type="System">
                                                                    <param id="0" name="First value">spr_shipEnemy.Timer2.Duration(fml_arrEnemyWPN.place&amp;&quot;_&quot;&amp;fml_arrEnemyWPN.CurX&amp;&quot;_&quot;&amp;fml_arrEnemyWPN.CurValue&amp;&quot;weaponCooldown&quot;)</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Second value">0</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                            <sub-events>
                                                                <comment>weapon has range to PCShip?</comment>
                                                                <event-block sid="223357004425967">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="659429754076904" type="spr_shipEnemy">
                                                                            <param id="0" name="Instance variable">rangeToTarget</param>
                                                                            <param id="1" name="Comparison">3</param>
                                                                            <param id="2" name="Value">csv_arrWeapons.At(&quot;range&quot;, indexOfItem)</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="14" name="Log" sid="394818909792963" type="Browser">
                                                                            <param id="0" name="Type">0</param>
                                                                            <param id="1" name="Message">&quot;enemy firing &quot;&amp;csv_arrWeapons.At(&quot;name&quot;, indexOfItem)</param>
                                                                        </action>
                                                                        <action id="0" name="Spawn another object" sid="590909126035737" type="spr_shipEnemy">
                                                                            <param id="0" name="Object">spr_weapon</param>
                                                                            <param id="1" name="Layer">&quot;Main&quot;</param>
                                                                            <param id="2" name="Image point">0</param>
                                                                        </action>
                                                                        <action behavior="Pin" id="0" name="Pin to object" sid="653034644320401" type="spr_weapon">
                                                                            <param id="0" name="Pin to">spr_shipEnemy</param>
                                                                            <param id="1" name="Mode">1</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="964751881787686" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">ID_name</param>
                                                                            <param id="1" name="Value">csv_arrWeapons.At(&quot;name&quot;, indexOfItem)</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="765470268939138" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">ID_num</param>
                                                                            <param id="1" name="Value">fml_arrEnemyWPN.CurValue</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="209895189848659" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">damage</param>
                                                                            <param id="1" name="Value">csv_arrWeapons.At(&quot;damage&quot;, indexOfItem)</param>
                                                                        </action>
                                                                        <action id="4" name="Set animation" sid="249546602356998" type="spr_weapon">
                                                                            <param id="0" name="Animation">&quot;ID_&quot;&amp;spr_weapon.ID_num</param>
                                                                            <param id="1" name="From">0</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="857871437293033" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">target</param>
                                                                            <param id="1" name="Value">0</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="486775734132375" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">targetUID</param>
                                                                            <param id="1" name="Value">spr_shipPC.UID</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="912049366683200" type="spr_weapon">
                                                                            <param id="0" name="Instance variable">targetSection</param>
                                                                            <param id="1" name="Value">spr_shipEnemy.targetAspect</param>
                                                                        </action>
                                                                        <action id="-22" name="Set angle toward position" sid="968993931287076" type="spr_weapon">
                                                                            <param id="0" name="X">spr_shipPC.X</param>
                                                                            <param id="1" name="Y">spr_shipPC.Y</param>
                                                                        </action>
                                                                        <action id="-12" name="Subtract from" sid="687013331700135" type="spr_shipEnemy">
                                                                            <param id="0" name="Instance variable">power</param>
                                                                            <param id="1" name="Value">int(csv_arrWeapons.At(&quot;power&quot;, indexOfItem))</param>
                                                                        </action>
                                                                        <action behavior="Timer2" id="0" name="Start timer" sid="161578555033243" type="spr_shipEnemy">
                                                                            <param id="0" name="Duration">float(csv_arrWeapons.At(&quot;cooldown&quot;, indexOfItem))</param>
                                                                            <param id="1" name="Type">0</param>
                                                                            <param id="2" name="Tag">fml_arrEnemyWPN.place&amp;&quot;_&quot;&amp;fml_arrEnemyWPN.CurX&amp;&quot;_&quot;&amp;fml_arrEnemyWPN.CurValue&amp;&quot;weaponCooldown&quot;</param>
                                                                        </action>
                                                                        <action disabled="1" id="14" name="Log" sid="613761579462770" type="Browser">
                                                                            <param id="0" name="Type">0</param>
                                                                            <param id="1" name="Message">&quot;Firing &quot;&amp;csv_arrWeapons.At(&quot;name&quot;, indexOfItem)&amp;&quot; at place: &quot;&amp;fml_arrEnemyWPN.place&amp;newline&amp;&quot;weapon health: &quot;&amp;fml_arrEnemyWPN.At(fml_arrEnemyWPN.CurValue,0,1)</param>
                                                                        </action>
                                                                        <action disabled="1" id="0" name="Call function" sid="903537971089181" type="Function">
                                                                            <param id="0" name="Name">&quot;onWeaponFire&quot;</param>
                                                                            <param id="1" name="Parameter {n}">spr_shipEnemy.UID{###}0{###}csv_arrWeapons.At(&quot;name&quot;,indexOfItem){###}fml_arrEnemyWPN.CurValue{###}csv_arrWeapons.At(&quot;damage&quot;,indexOfItem)</param>
                                                                        </action>
                                                                    </actions>
                                                                    <sub-events>
                                                                        <event-block disabled="1" sid="779173183519179">
                                                                            <conditions>
                                                                                <condition id="-8" name="Compare two values" sid="156768848453673" type="System">
                                                                                    <param id="0" name="First value">Function.Call(&quot;onCalcHit&quot;,0,spr_shipEnemy.rangeToTarget/arr_items_Weapons.At(fml_arrEnemyWPN.CurValue,3),spr_shipEnemy.UID)</param>
                                                                                    <param id="1" name="Comparison">0</param>
                                                                                    <param id="2" name="Second value">0</param>
                                                                                </condition>
                                                                            </conditions>
                                                                            <actions>
                                                                                <action id="-13" name="Set boolean" sid="354061753731096" type="spr_weapon">
                                                                                    <param id="0" name="Instance variable">hit</param>
                                                                                    <param id="1" name="Value">0</param>
                                                                                </action>
                                                                            </actions>
                                                                        </event-block>
                                                                        <event-block disabled="1" sid="261579430352477">
                                                                            <conditions>
                                                                                <condition id="-22" name="Else" sid="729742209880430" type="System" />
                                                                                <condition id="-8" name="Compare two values" sid="360842655033805" type="System">
                                                                                    <param id="0" name="First value">Function.Call(&quot;onCalcHit&quot;,0,spr_shipEnemy.rangeToTarget/int(csv_arrWeapons.At(&quot;range&quot;, indexOfItem)),spr_shipEnemy.UID)</param>
                                                                                    <param id="1" name="Comparison">0</param>
                                                                                    <param id="2" name="Second value">1</param>
                                                                                </condition>
                                                                            </conditions>
                                                                            <actions>
                                                                                <action id="-13" name="Set boolean" sid="397243508905133" type="spr_weapon">
                                                                                    <param id="0" name="Instance variable">hit</param>
                                                                                    <param id="1" name="Value">1</param>
                                                                                </action>
                                                                            </actions>
                                                                        </event-block>
                                                                        <event-block sid="374135991154426">
                                                                            <conditions>
                                                                                <condition id="-8" name="Compare two values" sid="238613254419001" type="System">
                                                                                    <param id="0" name="First value">random(100)</param>
                                                                                    <param id="1" name="Comparison">2</param>
                                                                                    <param id="2" name="Second value">50</param>
                                                                                </condition>
                                                                            </conditions>
                                                                            <actions>
                                                                                <action id="-13" name="Set boolean" sid="170569332886485" type="spr_weapon">
                                                                                    <param id="0" name="Instance variable">hit</param>
                                                                                    <param id="1" name="Value">0</param>
                                                                                </action>
                                                                            </actions>
                                                                        </event-block>
                                                                        <event-block sid="724172152024979">
                                                                            <conditions>
                                                                                <condition id="-22" name="Else" sid="153249886906842" type="System" />
                                                                            </conditions>
                                                                            <actions>
                                                                                <action id="-13" name="Set boolean" sid="708282683770021" type="spr_weapon">
                                                                                    <param id="0" name="Instance variable">hit</param>
                                                                                    <param id="1" name="Value">1</param>
                                                                                </action>
                                                                            </actions>
                                                                        </event-block>
                                                                    </sub-events>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="899148352370067">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="910607246417215" type="System" />
                                                <condition id="2" name="Compare at XYZ" sid="987275126730250" type="fml_arrEnemyWPN">
                                                    <param id="0" name="X">fml_arrEnemyWPN.CurValue</param>
                                                    <param id="1" name="Y">0</param>
                                                    <param id="2" name="Z">1</param>
                                                    <param id="3" name="Comparison">4</param>
                                                    <param id="4" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="14" name="Log" sid="163852764669143" type="Browser">
                                                    <param id="0" name="Type">0</param>
                                                    <param id="1" name="Message">&quot;Weapon damaged at place: &quot;&amp;fml_arrEnemyWPN.place&amp;newline&amp;&quot;weapon health: &quot;&amp;fml_arrEnemyWPN.At(fml_arrEnemyWPN.CurValue,0,1)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block disabled="1" sid="843808970202642">
                                            <conditions>
                                                <condition id="0" name="On function" sid="951495529040908" type="Function">
                                                    <param id="0" name="Name">&quot;onWeaponFire&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="996745765183919">
                    <conditions>
                        <condition id="-22" name="Else" sid="225286465347417" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="605623362004965" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">state</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;retreating&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
            </sub-events>
        </event-block>
        <comment>check bearing of the PC ship relative to the enemy</comment>
        <event-block sid="407680172850442">
            <conditions>
                <condition id="-11" name="Is within angle" sid="617535874360085" type="spr_shipEnemy">
                    <param id="0" name="Within">45</param>
                    <param id="1" name="Angle">angle(spr_shipEnemy.X,spr_shipEnemy.Y,spr_shipPC.X,spr_shipPC.Y)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="990272583659944" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">targetBearing</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="700903034027075">
            <conditions>
                <condition id="-11" name="Is within angle" sid="860492565215017" type="spr_shipEnemy">
                    <param id="0" name="Within">45</param>
                    <param id="1" name="Angle">angle(spr_shipEnemy.X,spr_shipEnemy.Y,spr_shipPC.X,spr_shipPC.Y)-90</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="219445548353029" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">targetBearing</param>
                    <param id="1" name="Value">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="690538317397211">
            <conditions>
                <condition id="-11" name="Is within angle" sid="621797237905058" type="spr_shipEnemy">
                    <param id="0" name="Within">45</param>
                    <param id="1" name="Angle">angle(spr_shipEnemy.X,spr_shipEnemy.Y,spr_shipPC.X,spr_shipPC.Y)-180</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="984664709673011" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">targetBearing</param>
                    <param id="1" name="Value">3</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="941018566000679">
            <conditions>
                <condition id="-11" name="Is within angle" sid="934836194422532" type="spr_shipEnemy">
                    <param id="0" name="Within">45</param>
                    <param id="1" name="Angle">angle(spr_shipEnemy.X,spr_shipEnemy.Y,spr_shipPC.X,spr_shipPC.Y)-270</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="172162816898638" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">targetBearing</param>
                    <param id="1" name="Value">4</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="237783853274775">
            <conditions>
                <condition id="-11" name="Is within angle" sid="468890146609850" type="spr_shipPC">
                    <param id="0" name="Within">45</param>
                    <param id="1" name="Angle">angle(spr_shipPC.X,spr_shipPC.Y,spr_shipEnemy.X,spr_shipEnemy.Y)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="786889053352681" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">targetAspect</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="893780648096660">
            <conditions>
                <condition id="-11" name="Is within angle" sid="351018603867306" type="spr_shipPC">
                    <param id="0" name="Within">45</param>
                    <param id="1" name="Angle">angle(spr_shipPC.X,spr_shipPC.Y,spr_shipEnemy.X,spr_shipEnemy.Y)-90</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="624328238705074" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">targetAspect</param>
                    <param id="1" name="Value">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="676580565782829">
            <conditions>
                <condition id="-11" name="Is within angle" sid="948588491631137" type="spr_shipPC">
                    <param id="0" name="Within">45</param>
                    <param id="1" name="Angle">angle(spr_shipPC.X,spr_shipPC.Y,spr_shipEnemy.X,spr_shipEnemy.Y)-180</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="325916573315191" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">targetAspect</param>
                    <param id="1" name="Value">3</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="839311801266442">
            <conditions>
                <condition id="-11" name="Is within angle" sid="869652562874382" type="spr_shipPC">
                    <param id="0" name="Within">45</param>
                    <param id="1" name="Angle">angle(spr_shipPC.X,spr_shipPC.Y,spr_shipEnemy.X,spr_shipEnemy.Y)-270</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="800332933718740" type="spr_shipEnemy">
                    <param id="0" name="Instance variable">targetAspect</param>
                    <param id="1" name="Value">4</param>
                </action>
            </actions>
        </event-block>
        <comment>remove enemy waypoint when reached</comment>
        <event-block sid="423816674626321">
            <conditions>
                <condition id="0" name="On collision with another object" sid="941976980879134" type="spr_shipEnemy">
                    <param id="0" name="Object">spr_wptEnemy</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="336052260903145">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="852261904398386" type="spr_wptEnemy">
                            <param id="0" name="Instance variable">enemyID</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">spr_shipEnemy.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action disabled="1" id="0" name="Call function" sid="516731726057652" type="Function">
                            <param id="0" name="Name">&quot;addLog&quot;</param>
                            <param id="1" name="Parameter {n}">spr_wptEnemy.enemyID&amp;&quot; reached waypoint &quot;&amp;int(spr_wptEnemy.X)&amp;&quot;,&quot;&amp;int(spr_wptEnemy.Y)</param>
                        </action>
                        <action id="-9" name="Destroy" sid="185310912074521" type="spr_wptEnemy" />
                        <action id="-13" name="Set boolean" sid="514800281640086" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">isMoving</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="876911172364897" title="Group_timersEnemy">
            <sub-events>
                <comment>timer for attack runs</comment>
                <event-block sid="101728404348729">
                    <conditions>
                        <condition behavior="Timer2" id="0" name="On timer" sid="516168851206215" type="spr_shipEnemy">
                            <param id="0" name="Tag">&quot;attackRun&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="429644138327214">
                            <conditions>
                                <condition id="-33" name="Pick by comparison" sid="387343733361046" type="System">
                                    <param id="0" name="Object">spr_wptEnemy</param>
                                    <param id="1" name="Expression">spr_wptEnemy.enemyID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">spr_shipEnemy.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="451218433635321" type="spr_wptEnemy" />
                                <action id="-13" name="Set boolean" sid="322357254230483" type="spr_shipEnemy">
                                    <param id="0" name="Instance variable">isMoving</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="637655275282651" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Timers for shield recharging</comment>
                <event-block sid="950764217770723">
                    <conditions>
                        <condition behavior="Timer2" id="0" name="On timer" sid="557481008572395" type="spr_shipEnemy">
                            <param id="0" name="Tag">&quot;1ShieldCooldown&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="981198370935631">
                            <conditions>
                                <condition id="-33" name="Pick by comparison" sid="396895873203999" type="System">
                                    <param id="0" name="Object">fml_enemyMRKShld</param>
                                    <param id="1" name="Expression">fml_enemyMRKshld.containerUID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="610259871199692">
                                    <conditions>
                                        <condition id="-33" name="Pick by comparison" sid="441590791342103" type="System">
                                            <param id="0" name="Object">fml_enemyMRKShld</param>
                                            <param id="1" name="Expression">fml_enemyMRKshld.place</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="677766389845385">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="443398705631131" type="fml_enemyMRKShld">
                                                    <param id="0" name="Instance variable">isEnabled</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="181343736252320" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">S1_charging</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="665593869484424" type="fml_enemyMRKShld">
                                                    <param id="0" name="Instance variable">isCharging</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="663358420624458">
                    <conditions>
                        <condition behavior="Timer2" id="0" name="On timer" sid="703465060185497" type="spr_shipEnemy">
                            <param id="0" name="Tag">&quot;2ShieldCooldown&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="870560240862866" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">S2_charging</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="964503811792535">
                            <conditions>
                                <condition id="-33" name="Pick by comparison" sid="713623127831717" type="System">
                                    <param id="0" name="Object">fml_enemyMRKShld</param>
                                    <param id="1" name="Expression">fml_enemyMRKshld.containerUID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="214313027390952">
                                    <conditions>
                                        <condition id="-33" name="Pick by comparison" sid="272562974273656" type="System">
                                            <param id="0" name="Object">fml_enemyMRKShld</param>
                                            <param id="1" name="Expression">fml_enemyMRKshld.place</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">2</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="604977451108191">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="422204748763754" type="fml_enemyMRKShld">
                                                    <param id="0" name="Instance variable">isEnabled</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="243841774014878" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">S2_charging</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="586993016506492" type="fml_enemyMRKShld">
                                                    <param id="0" name="Instance variable">isCharging</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="289431053801787">
                    <conditions>
                        <condition behavior="Timer2" id="0" name="On timer" sid="414799914204025" type="spr_shipEnemy">
                            <param id="0" name="Tag">&quot;3ShieldCooldown&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="180160452052912" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">S3_charging</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="487258766750677">
                            <conditions>
                                <condition id="-33" name="Pick by comparison" sid="274986972225881" type="System">
                                    <param id="0" name="Object">fml_enemyMRKShld</param>
                                    <param id="1" name="Expression">fml_enemyMRKshld.containerUID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="875959529218118">
                                    <conditions>
                                        <condition id="-33" name="Pick by comparison" sid="775709507470549" type="System">
                                            <param id="0" name="Object">fml_enemyMRKShld</param>
                                            <param id="1" name="Expression">fml_enemyMRKshld.place</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">3</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="357954506110145">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="898923779968575" type="fml_enemyMRKShld">
                                                    <param id="0" name="Instance variable">isEnabled</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="450274970603461" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">S3_charging</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="938371781026742" type="fml_enemyMRKShld">
                                                    <param id="0" name="Instance variable">isCharging</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="395153009394968">
                    <conditions>
                        <condition behavior="Timer2" id="0" name="On timer" sid="919791052670157" type="spr_shipEnemy">
                            <param id="0" name="Tag">&quot;4ShieldCooldown&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="560515621368334" type="spr_shipEnemy">
                            <param id="0" name="Instance variable">S4_charging</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="675831465691770">
                            <conditions>
                                <condition id="-33" name="Pick by comparison" sid="564390524334749" type="System">
                                    <param id="0" name="Object">fml_enemyMRKShld</param>
                                    <param id="1" name="Expression">fml_enemyMRKshld.containerUID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="621939198716483">
                                    <conditions>
                                        <condition id="-33" name="Pick by comparison" sid="343667951328189" type="System">
                                            <param id="0" name="Object">fml_enemyMRKShld</param>
                                            <param id="1" name="Expression">fml_enemyMRKshld.place</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">4</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="461214617037268">
                                            <conditions>
                                                <condition id="-8" name="Is boolean instance variable set" sid="118523012639105" type="fml_enemyMRKShld">
                                                    <param id="0" name="Instance variable">isEnabled</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="463917439873808" type="spr_shipEnemy">
                                                    <param id="0" name="Instance variable">S4_charging</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="325779452119540" type="fml_enemyMRKShld">
                                                    <param id="0" name="Instance variable">isCharging</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>check which shield is done being repaired</comment>
                <event-block sid="262526350957883">
                    <conditions>
                        <condition behavior="Timer" id="0" name="On timer" sid="142815806474112" type="fml_enemyMRKShld">
                            <param id="0" name="Tag">&quot;repairShield&quot;&amp;fml_enemyMRKShld.place</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="314478360955297" type="fml_enemyMRKShld">
                            <param id="0" name="Instance variable">isEnabled</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="648833403378268" type="fml_enemyMRKShld">
                            <param id="0" name="Instance variable">isCharging</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="678403097979204" title="Group_fxnEnemy">
            <sub-events>
                <event-block sid="120758860797607">
                    <conditions>
                        <condition id="0" name="On function" sid="218429649241273" type="Function">
                            <param id="0" name="Name">&quot;loadEnemyInv&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="219121029297622">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="767059956374719" type="spr_shipEnemy">
                                    <param id="0" name="Unique ID">Function.Param(1)</param>
                                </condition>
                                <condition id="-33" name="Pick by comparison" sid="551472418807041" type="System">
                                    <param id="0" name="Object">fml_arrEnemyWPN</param>
                                    <param id="1" name="Expression">fml_arrEnemyWPN.enemyUID</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">Function.Param(1)</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="687790170002607">
                                    <conditions>
                                        <condition id="-33" name="Pick by comparison" sid="499048512354593" type="System">
                                            <param id="0" name="Object">fml_arrEnemyWPN</param>
                                            <param id="1" name="Expression">fml_arrEnemyWPN.place</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">Function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="891013221449199">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="619711765143799" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">3</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="5" name="Push" sid="338373268905886" type="fml_arrEnemyWPN">
                                                    <param id="0" name="Where">0</param>
                                                    <param id="1" name="Value">csv_arrEngines.At(&quot;engine&quot;, spr_shipEnemy.engineType)</param>
                                                    <param id="2" name="Axis">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="581003679961141">
                                            <conditions>
                                                <condition id="-10" name="For" sid="784060744296137" type="System">
                                                    <param id="0" name="Name">&quot;loopInv&quot;</param>
                                                    <param id="1" name="Start index">5*(Function.Param(0))+2</param>
                                                    <param id="2" name="End index">5*(Function.Param(0))+6</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="292050045592509">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="379378807481399" type="arr_InvEnemy">
                                                            <param id="0" name="X">0</param>
                                                            <param id="1" name="Y">loopindex</param>
                                                            <param id="2" name="Comparison">1</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="5" name="Push" sid="747829531014909" type="fml_arrEnemyWPN">
                                                            <param id="0" name="Where">0</param>
                                                            <param id="1" name="Value">arr_InvEnemy.At(0,loopindex)</param>
                                                            <param id="2" name="Axis">0</param>
                                                        </action>
                                                        <action id="4" name="Set at XYZ" sid="914968146624343" type="fml_arrEnemyWPN">
                                                            <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                            <param id="1" name="Y">0</param>
                                                            <param id="2" name="Z">1</param>
                                                            <param id="3" name="Value">0</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <variable constant="0" name="indexOfItem" sid="706467840340693" static="0" type="number">0</variable>
                                                        <comment>it&apos;s an equipment</comment>
                                                        <event-block sid="784349507312896">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="272650393187678" type="System">
                                                                    <param id="0" name="First value">int(left(arr_InvEnemy.At(0,loopindex),1))</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Second value">0</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                            <sub-events>
                                                                <event-block sid="705723027670779">
                                                                    <conditions>
                                                                        <condition id="1" name="For each row in col" sid="619606046448462" type="csv_arrItems">
                                                                            <param id="0" name="Col">&quot;ID&quot;</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions />
                                                                    <sub-events>
                                                                        <event-block sid="513499062536200">
                                                                            <conditions>
                                                                                <condition id="-8" name="Compare two values" sid="377722164606665" type="System">
                                                                                    <param id="0" name="First value">csv_arritems.CurValue</param>
                                                                                    <param id="1" name="Comparison">0</param>
                                                                                    <param id="2" name="Second value">arr_InvEnemy.At(0,loopindex)</param>
                                                                                </condition>
                                                                            </conditions>
                                                                            <actions>
                                                                                <action id="-9" name="Set value" sid="677589390178557" type="System">
                                                                                    <param id="0" name="Variable">indexOfItem</param>
                                                                                    <param id="1" name="Value">csv_arritems.CurRow</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="738432052768528" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">1</param>
                                                                                    <param id="2" name="Value">csv_arrItems.At(&quot;name&quot;,indexOfItem)</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="803251509642151" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">2</param>
                                                                                    <param id="2" name="Value">csv_arrItems.At(&quot;mass&quot;,indexOfItem)</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="256294019080614" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">3</param>
                                                                                    <param id="2" name="Value">csv_arrItems.At(&quot;power&quot;,indexOfItem)</param>
                                                                                </action>
                                                                            </actions>
                                                                            <sub-events>
                                                                                <event-block sid="451329352552285">
                                                                                    <conditions>
                                                                                        <condition id="-8" name="Compare two values" sid="888682588559631" type="System">
                                                                                            <param id="0" name="First value">csv_arrItems.At(&quot;name&quot;,indexOfItem)</param>
                                                                                            <param id="1" name="Comparison">0</param>
                                                                                            <param id="2" name="Second value">&quot;Capacitor&quot;</param>
                                                                                        </condition>
                                                                                    </conditions>
                                                                                    <actions>
                                                                                        <action id="-11" name="Add to" sid="612134922655709" type="spr_shipEnemy">
                                                                                            <param id="0" name="Instance variable">capacitors</param>
                                                                                            <param id="1" name="Value">1</param>
                                                                                        </action>
                                                                                    </actions>
                                                                                </event-block>
                                                                                <event-block sid="431376751461026">
                                                                                    <conditions>
                                                                                        <condition id="-8" name="Compare two values" sid="626360901968712" type="System">
                                                                                            <param id="0" name="First value">csv_arrItems.At(&quot;name&quot;,indexOfItem)</param>
                                                                                            <param id="1" name="Comparison">0</param>
                                                                                            <param id="2" name="Second value">&quot;ECM&quot;</param>
                                                                                        </condition>
                                                                                    </conditions>
                                                                                    <actions>
                                                                                        <action id="-10" name="Set value" sid="942280980604584" type="spr_shipEnemy">
                                                                                            <param id="0" name="Instance variable">ECM</param>
                                                                                            <param id="1" name="Value">1</param>
                                                                                        </action>
                                                                                    </actions>
                                                                                </event-block>
                                                                                <event-block sid="414589022393416">
                                                                                    <conditions>
                                                                                        <condition id="-8" name="Compare two values" sid="115371781241807" type="System">
                                                                                            <param id="0" name="First value">left(csv_arrItems.At(&quot;name&quot;,indexOfItem),2)</param>
                                                                                            <param id="1" name="Comparison">0</param>
                                                                                            <param id="2" name="Second value">&quot;TC&quot;</param>
                                                                                        </condition>
                                                                                    </conditions>
                                                                                    <actions>
                                                                                        <action id="-10" name="Set value" sid="357202421189754" type="spr_shipEnemy">
                                                                                            <param id="0" name="Instance variable">TC</param>
                                                                                            <param id="1" name="Value">int(right(csv_arrItems.At(&quot;name&quot;,indexOfItem),1))</param>
                                                                                        </action>
                                                                                    </actions>
                                                                                </event-block>
                                                                                <event-block sid="605679382902190">
                                                                                    <conditions>
                                                                                        <condition id="-8" name="Compare two values" sid="243548534303314" type="System">
                                                                                            <param id="0" name="First value">left(csv_arrItems.At(&quot;name&quot;,indexOfItem),6)</param>
                                                                                            <param id="1" name="Comparison">0</param>
                                                                                            <param id="2" name="Second value">&quot;Shield&quot;</param>
                                                                                        </condition>
                                                                                    </conditions>
                                                                                    <actions />
                                                                                    <sub-events>
                                                                                        <event-block sid="445386843914614">
                                                                                            <conditions>
                                                                                                <condition id="1" name="Compare parameter" sid="872468894512348" type="Function">
                                                                                                    <param id="0" name="Index">0</param>
                                                                                                    <param id="1" name="Comparison">0</param>
                                                                                                    <param id="2" name="Value">0</param>
                                                                                                </condition>
                                                                                            </conditions>
                                                                                            <actions />
                                                                                        </event-block>
                                                                                        <event-block sid="335085008990749">
                                                                                            <conditions>
                                                                                                <condition id="-22" name="Else" sid="423698120776809" type="System" />
                                                                                                <condition id="1" name="Compare parameter" sid="308678383266305" type="Function">
                                                                                                    <param id="0" name="Index">0</param>
                                                                                                    <param id="1" name="Comparison">0</param>
                                                                                                    <param id="2" name="Value">1</param>
                                                                                                </condition>
                                                                                            </conditions>
                                                                                            <actions>
                                                                                                <action id="-10" name="Set value" sid="120173606976640" type="spr_shipEnemy">
                                                                                                    <param id="0" name="Instance variable">Shield_1</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-10" name="Set value" sid="307651979765029" type="spr_shipEnemy">
                                                                                                    <param id="0" name="Instance variable">Shield_1_o</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-10" name="Set value" sid="910952397305497" type="spr_shldMarkE1">
                                                                                                    <param id="0" name="Instance variable">currStrength</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-13" name="Set boolean" sid="463030916176375" type="spr_shldMarkE1">
                                                                                                    <param id="0" name="Instance variable">isEnabled</param>
                                                                                                    <param id="1" name="Value">1</param>
                                                                                                </action>
                                                                                            </actions>
                                                                                        </event-block>
                                                                                        <event-block sid="892215046456458">
                                                                                            <conditions>
                                                                                                <condition id="-22" name="Else" sid="513139534259274" type="System" />
                                                                                                <condition id="1" name="Compare parameter" sid="405392367680823" type="Function">
                                                                                                    <param id="0" name="Index">0</param>
                                                                                                    <param id="1" name="Comparison">0</param>
                                                                                                    <param id="2" name="Value">2</param>
                                                                                                </condition>
                                                                                            </conditions>
                                                                                            <actions>
                                                                                                <action id="-10" name="Set value" sid="697822848014100" type="spr_shipEnemy">
                                                                                                    <param id="0" name="Instance variable">Shield_2</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-10" name="Set value" sid="569652360944121" type="spr_shipEnemy">
                                                                                                    <param id="0" name="Instance variable">Shield_2_o</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-10" name="Set value" sid="765793844742230" type="spr_shldMarkE2">
                                                                                                    <param id="0" name="Instance variable">currStrength</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-13" name="Set boolean" sid="870978875017857" type="spr_shldMarkE2">
                                                                                                    <param id="0" name="Instance variable">isEnabled</param>
                                                                                                    <param id="1" name="Value">1</param>
                                                                                                </action>
                                                                                            </actions>
                                                                                        </event-block>
                                                                                        <event-block sid="214611952029237">
                                                                                            <conditions>
                                                                                                <condition id="-22" name="Else" sid="270926158247184" type="System" />
                                                                                                <condition id="1" name="Compare parameter" sid="226310494149866" type="Function">
                                                                                                    <param id="0" name="Index">0</param>
                                                                                                    <param id="1" name="Comparison">0</param>
                                                                                                    <param id="2" name="Value">3</param>
                                                                                                </condition>
                                                                                            </conditions>
                                                                                            <actions>
                                                                                                <action id="-10" name="Set value" sid="519176716265442" type="spr_shipEnemy">
                                                                                                    <param id="0" name="Instance variable">Shield_3</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-10" name="Set value" sid="461581885735506" type="spr_shipEnemy">
                                                                                                    <param id="0" name="Instance variable">Shield_3_o</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-10" name="Set value" sid="331194324593470" type="spr_shldMarkE3">
                                                                                                    <param id="0" name="Instance variable">currStrength</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-13" name="Set boolean" sid="957512186082123" type="spr_shldMarkE3">
                                                                                                    <param id="0" name="Instance variable">isEnabled</param>
                                                                                                    <param id="1" name="Value">1</param>
                                                                                                </action>
                                                                                            </actions>
                                                                                        </event-block>
                                                                                        <event-block sid="557873589274928">
                                                                                            <conditions>
                                                                                                <condition id="-22" name="Else" sid="179921588840510" type="System" />
                                                                                                <condition id="1" name="Compare parameter" sid="972464704818397" type="Function">
                                                                                                    <param id="0" name="Index">0</param>
                                                                                                    <param id="1" name="Comparison">0</param>
                                                                                                    <param id="2" name="Value">4</param>
                                                                                                </condition>
                                                                                            </conditions>
                                                                                            <actions>
                                                                                                <action id="-10" name="Set value" sid="755004376801794" type="spr_shipEnemy">
                                                                                                    <param id="0" name="Instance variable">Shield_4</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-10" name="Set value" sid="923907365671502" type="spr_shipEnemy">
                                                                                                    <param id="0" name="Instance variable">Shield_4_o</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-10" name="Set value" sid="614385345999681" type="spr_shldMarkE4">
                                                                                                    <param id="0" name="Instance variable">currStrength</param>
                                                                                                    <param id="1" name="Value">csv_arrItems.At(&quot;power&quot;, indexOfItem)</param>
                                                                                                </action>
                                                                                                <action id="-13" name="Set boolean" sid="965193300661215" type="spr_shldMarkE4">
                                                                                                    <param id="0" name="Instance variable">isEnabled</param>
                                                                                                    <param id="1" name="Value">1</param>
                                                                                                </action>
                                                                                            </actions>
                                                                                        </event-block>
                                                                                    </sub-events>
                                                                                </event-block>
                                                                            </sub-events>
                                                                        </event-block>
                                                                    </sub-events>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                        <comment>it&apos;s a weapon</comment>
                                                        <event-block sid="998254046864515">
                                                            <conditions>
                                                                <condition id="-22" name="Else" sid="765080383436092" type="System" />
                                                                <condition id="-8" name="Compare two values" sid="766586686507341" type="System">
                                                                    <param id="0" name="First value">int(left(arr_InvEnemy.At(0,loopindex),1))</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Second value">1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                            <sub-events>
                                                                <event-block sid="397713245735159">
                                                                    <conditions>
                                                                        <condition id="1" name="For each row in col" sid="164411997795360" type="csv_arrWeapons">
                                                                            <param id="0" name="Col">&quot;ID&quot;</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions />
                                                                    <sub-events>
                                                                        <event-block sid="835933746024955">
                                                                            <conditions>
                                                                                <condition id="-8" name="Compare two values" sid="439898331434141" type="System">
                                                                                    <param id="0" name="First value">csv_arrWeapons.CurValue</param>
                                                                                    <param id="1" name="Comparison">0</param>
                                                                                    <param id="2" name="Second value">arr_InvEnemy.At(0,loopindex)</param>
                                                                                </condition>
                                                                            </conditions>
                                                                            <actions>
                                                                                <action id="-9" name="Set value" sid="152681112136461" type="System">
                                                                                    <param id="0" name="Variable">indexOfItem</param>
                                                                                    <param id="1" name="Value">csv_arrweapons.CurRow</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="517919792540558" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">1</param>
                                                                                    <param id="2" name="Value">csv_arrWeapons.At(&quot;name&quot;,indexOfItem)</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="121689725444661" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">2</param>
                                                                                    <param id="2" name="Value">csv_arrWeapons.At(&quot;mass&quot;,indexOfItem)</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="514744850071013" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">3</param>
                                                                                    <param id="2" name="Value">csv_arrWeapons.At(&quot;power&quot;,indexOfItem)</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="818246183653457" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">4</param>
                                                                                    <param id="2" name="Value">csv_arrWeapons.At(&quot;damage&quot;,indexOfItem)</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="862444934729784" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">5</param>
                                                                                    <param id="2" name="Value">csv_arrWeapons.At(&quot;range&quot;,indexOfItem)</param>
                                                                                </action>
                                                                                <action id="3" name="Set at XY" sid="102570435741749" type="fml_arrEnemyWPN">
                                                                                    <param id="0" name="X">fml_arrEnemyWPN.Width-1</param>
                                                                                    <param id="1" name="Y">6</param>
                                                                                    <param id="2" name="Value">csv_arrWeapons.At(&quot;cooldown&quot;,indexOfItem)</param>
                                                                                </action>
                                                                            </actions>
                                                                        </event-block>
                                                                    </sub-events>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
